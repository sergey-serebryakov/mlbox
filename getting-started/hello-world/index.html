
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation site for MLCube">
      
      
        <meta name="author" content="<MLPerf.org> mlcommons@googlegroups.com">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.3.0">
    
    
      
        <title>Hello World - MLCube</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fd896c8a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/circular.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hello-world" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MLCube" class="md-header__button md-logo" aria-label="MLCube" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MLCube
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hello World
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MLCube" class="md-nav__button md-logo" aria-label="MLCube" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    MLCube
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Hello World
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Hello World
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    QuickStart
  </a>
  
    <nav class="md-nav" aria-label="QuickStart">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-python-environment" class="md-nav__link">
    Create python environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-mlcube-docker-runner" class="md-nav__link">
    Install MLCube Docker runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-hello-world-mlcube-example" class="md-nav__link">
    Run Hello World MLCube example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-docker" class="md-nav__link">
    Setup Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-hello-world-mlcube" class="md-nav__link">
    Configuring Hello World MLCube
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-hello-world-mlcube" class="md-nav__link">
    Running Hello World MLCube
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifying-mlcube-tasks" class="md-nav__link">
    Modifying MLCube tasks
  </a>
  
    <nav class="md-nav" aria-label="Modifying MLCube tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#override-parameters-on-a-command-line" class="md-nav__link">
    Override parameters on a command line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#providing-a-better-greeting-message" class="md-nav__link">
    Providing a better greeting message
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mnist/" class="md-nav__link">
        MNIST
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        MLCube concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mlcube-configuration/" class="md-nav__link">
        MLCube configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../system-settings/" class="md-nav__link">
        System Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        Command Line Interface
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/create-mlcube/" class="md-nav__link">
        How to Create an MLCube
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Runners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Runners" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Runners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/" class="md-nav__link">
        Runners
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/docker-runner/" class="md-nav__link">
        Docker Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/singularity-runner/" class="md-nav__link">
        Singularity Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/ssh-runner/" class="md-nav__link">
        SSH Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/kubernetes/" class="md-nav__link">
        Kubernetes Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/kubeflow/" class="md-nav__link">
        Kubeflow Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/gcp-runner/" class="md-nav__link">
        GCP Runner
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    QuickStart
  </a>
  
    <nav class="md-nav" aria-label="QuickStart">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-python-environment" class="md-nav__link">
    Create python environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-mlcube-docker-runner" class="md-nav__link">
    Install MLCube Docker runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-hello-world-mlcube-example" class="md-nav__link">
    Run Hello World MLCube example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-docker" class="md-nav__link">
    Setup Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-hello-world-mlcube" class="md-nav__link">
    Configuring Hello World MLCube
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-hello-world-mlcube" class="md-nav__link">
    Running Hello World MLCube
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifying-mlcube-tasks" class="md-nav__link">
    Modifying MLCube tasks
  </a>
  
    <nav class="md-nav" aria-label="Modifying MLCube tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#override-parameters-on-a-command-line" class="md-nav__link">
    Override parameters on a command line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#providing-a-better-greeting-message" class="md-nav__link">
    Providing a better greeting message
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="hello-world">Hello World<a class="headerlink" href="#hello-world" title="Permanent link">&para;</a></h1>
<p>Hello World MLCube is an example of a Docker-based cube.  </p>
<h2 id="quickstart">QuickStart<a class="headerlink" href="#quickstart" title="Permanent link">&para;</a></h2>
<p>Get started with MLCube Docker runner with below commands.   </p>
<h3 id="create-python-environment">Create python environment<a class="headerlink" href="#create-python-environment" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>virtualenv -p python3.6 ./env &amp;&amp; source ./env/bin/activate
</code></pre></div>
<h3 id="install-mlcube-docker-runner">Install MLCube Docker runner<a class="headerlink" href="#install-mlcube-docker-runner" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code>pip install mlcube-docker      # Install.
mlcube config --get runners    # Check it was installed.
mlcube config --list           # Show system settings for local MLCube runners.
</code></pre></div>
Depending on how your local system is configured, it may be required to change the following settings:
- <code>platforms.docker.docker</code> (string): A docker executable. Examples are <code>docker</code>, <code>nvidia-docker</code>, <code>sudo docker</code>,
  <code>podman</code> etc.
- <code>platforms.docker.env_args</code> (dictionary) and <code>platforms.docker.build_args</code> (dictionary). Environmental variables
  for docker run and build phases. Http and https proxy settings can be configured here.
A custom configuration could look like:
<div class="highlight"><pre><span></span><code><span class="nt">platforms</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">docker</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">docker</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sudo docker</span><span class="w"></span>
<span class="w">    </span><span class="nt">env_args</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">http_proxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://proxy.company.com:8088</span><span class="w"></span>
<span class="w">      </span><span class="nt">https_proxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://proxy.company.com.net:8088</span><span class="w"></span>
<span class="w">    </span><span class="nt">build_args</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">http_proxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://proxy.company.com:8088</span><span class="w"></span>
<span class="w">      </span><span class="nt">https_proxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://proxy.company.com:8088</span><span class="w"></span>
</code></pre></div></p>
<h3 id="run-hello-world-mlcube-example">Run Hello World MLCube example<a class="headerlink" href="#run-hello-world-mlcube-example" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code># The hello_world MLCube is part of the mlcube_examples GitHub repository.
git clone https://github.com/mlcommons/mlcube_examples.git &amp;&amp; cd ./mlcube_examples/hello_world

# Run Hello World MLCube on a local machine with Docker runner.
# Show available tasks
mlcube describe

# Run Hello World example tasks. Very first run can take some time to download (or build)
# the MLCube docker image.
mlcube run --mlcube=. --task=hello --platform=docker   # No output expected.
mlcube run --mlcube=. --task=bye --platform=docker     # No output expected.
cat ./workspace/chats/chat_with_alice.txt              # You should some log lines in this file.
cat 
</code></pre></div>
If above mlcube runs fail (with the error message saying there is no docker image available, try to change the system
settings file by changing <code>platforms.docker.build_strategy</code> to <code>auto</code>.</p>
<h2 id="setup-docker">Setup Docker<a class="headerlink" href="#setup-docker" title="Permanent link">&para;</a></h2>
<p>MLCube Docker runner used Docker runtime, and they must be available in the system.
Installation guides for various operating systems can be found <a href="https://docs.docker.com/engine/install/">here</a>. This
example was tested on a system where users are in the docker group and run docker without <code>sudo</code>. To add yourself to a
docker group, run the following:
<div class="highlight"><pre><span></span><code>sudo groupadd docker             # Add the docker group if it doesn&#39;t already exist.
sudo gpasswd -a ${USER} docker   # Add the connected user &quot;${USER}&quot; to the docker group. Change 
                                 # the user name to match your preferred user.
sudo service docker restart      # Restart the Docker daemon.
newgrp docker                    # Either do a `newgrp docker` or log out/in to activate the 
                                 # changes to groups.
</code></pre></div></p>
<h2 id="configuring-hello-world-mlcube">Configuring Hello World MLCube<a class="headerlink" href="#configuring-hello-world-mlcube" title="Permanent link">&para;</a></h2>
<p>Cubes need to be configured before they can run. MLCube runners do that automatically, and users do not need to run
the configure step manually. If for some reason this needs to be done, for instance, to pre-build or pull docker images
(if these processes take too much time), MLCube runtime implements <code>configure</code> command. The Hello World cube is a 
Docker-based cube, and users can configure the MLCube by running the following command:
<div class="highlight"><pre><span></span><code>mlcube configure --mlcube=. --platform=docker
</code></pre></div>
The Docker runner will build or will pull the docker image for the Hello World cube. As it is mentioned above, this step
is optional and is only required when MLCubes need to be rebuilt. This can happen when users change implementation files
and want to re-package their ML project into MLCube. In other situations, MLCube runners can auto-detect if <code>configure</code>
command needs to be run before running MLCube tasks.</p>
<h2 id="running-hello-world-mlcube">Running Hello World MLCube<a class="headerlink" href="#running-hello-world-mlcube" title="Permanent link">&para;</a></h2>
<p>In order to run the Hello World cube, users need to provide the path to the root directory of the cube, platform
and task names. Run the following two commands one at a time:
<div class="highlight"><pre><span></span><code>cat ./workspace/chats/chat_with_alice.txt

mlcube run --mlcube=. --platform=docker --task=hello
cat ./workspace/chats/chat_with_alice.txt

mlcube run --mlcube=. --platform=docker --task=bye
cat ./workspace/chats/chat_with_alice.txt
</code></pre></div>
Hello World creates a file <code>workspace/chats/chat_with_alice.txt</code> that contains the following:
<div class="highlight"><pre><span></span><code>[2020-09-03 09:13:14.236945]  Hi, Alice! Nice to meet you.
[2020-09-03 09:13:20.749831]  Bye, Alice! It was great talking to you.
</code></pre></div></p>
<h2 id="modifying-mlcube-tasks">Modifying MLCube tasks<a class="headerlink" href="#modifying-mlcube-tasks" title="Permanent link">&para;</a></h2>
<h3 id="override-parameters-on-a-command-line">Override parameters on a command line<a class="headerlink" href="#override-parameters-on-a-command-line" title="Permanent link">&para;</a></h3>
<p>One way to change the parameters of MLCubes is to override them on a command line. Create a new file
<code>workspace/names/mary.txt</code> with the following content: <code>Mary</code>. Then, run the following:
<div class="highlight"><pre><span></span><code>mlcube run --mlcube<span class="o">=</span>. --platform<span class="o">=</span>docker --task<span class="o">=</span>hello <span class="nv">name</span><span class="o">=</span>names/mary.txt <span class="nv">chat</span><span class="o">=</span>chats/chat_with_mary.txt
cat workspace/chats/chat_with_mary.txt

mlcube run --mlcube<span class="o">=</span>. --platform<span class="o">=</span>docker --task<span class="o">=</span>bye <span class="nv">name</span><span class="o">=</span>names/mary.txt <span class="nv">chat</span><span class="o">=</span>chats/chat_with_mary.txt
cat workspace/chats/chat_with_mary.txt
</code></pre></div>
You should observe the output similar to this one:
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="m">2021</span>-09-30 <span class="m">18</span>:49:46.896509<span class="o">]</span>  Hi, Mary! Nice to meet you.
<span class="o">[</span><span class="m">2021</span>-09-30 <span class="m">18</span>:49:56.883266<span class="o">]</span>  Bye, Mary! It was great talking to you.
</code></pre></div></p>
<h3 id="providing-a-better-greeting-message">Providing a better greeting message<a class="headerlink" href="#providing-a-better-greeting-message" title="Permanent link">&para;</a></h3>
<p>Because how Hello World cube was implemented, the greeting message is always the following: <code>Nice to meet you.</code>. We will
update the implementation so that if this is not the first time Alice says <code>hello</code>, the  MLCube will respond: <code>Nice to 
see you again.</code>.</p>
<p>Modify the file <code>hello_world.py</code>. Update the function named <code>get_greeting_message</code> on line 14. It should have the
following implementation:
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">get_greeting_message</span><span class="p">(</span><span class="n">chat_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;Nice to meet you.&quot;</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">chat_file</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;Nice to see you again.&quot;</span>
</code></pre></div>
Reconfigure the MLCube:
<div class="highlight"><pre><span></span><code>mlcube configure --mlcube=. --platform=docker
</code></pre></div>
And run two <code>hello</code> tasks again:
<div class="highlight"><pre><span></span><code>rm ./workspace/chats/chat_with_alice.txt

mlcube run --mlcube<span class="o">=</span>. --platform<span class="o">=</span>docker --task<span class="o">=</span>hello,bye
mlcube run --mlcube<span class="o">=</span>. --platform<span class="o">=</span>docker --task<span class="o">=</span>hello,bye

cat ./workspace/chats/chat_with_alice.txt
</code></pre></div>
The MLCube recognized it was not the first time it talked to Alice, and changed the greeting:
<div class="highlight"><pre><span></span><code>[2021-09-30 20:04:36.977032]  Hi, Alice! Nice to meet you.
[2021-09-30 20:04:40.851157]  Bye, Alice! It was great talking to you.
[2021-09-30 20:04:47.228554]  Hi, Alice! Nice to see you again.
[2021-09-30 20:04:51.031609]  Bye, Alice! It was great talking to you.
</code></pre></div></p>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../" class="md-footer__link md-footer__link--prev" aria-label="Previous: Installation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Installation
            </div>
          </div>
        </a>
      
      
        
        <a href="../mnist/" class="md-footer__link md-footer__link--next" aria-label="Next: MNIST" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              MNIST
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b028fd86.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.0f659f14.min.js"></script>
      
    
  </body>
</html>